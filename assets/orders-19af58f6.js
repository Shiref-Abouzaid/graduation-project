import{v as S,T as r,x as T,U as E,n as N,o,q as n,b as e,a as t,w as l,X as O,Y as $,l as C,F as h,s as g,t as i,d as v,B,Z as A,e as b,$ as U,a0 as z,a1 as L,I as F,a2 as M,a3 as y,a4 as Z,a5 as q}from"./index-e0bd64b8.js";import{_ as R}from"./BaseBreadcrumb.vue_vue_type_style_index_0_lang-db9c2793.js";import{_ as W}from"./_plugin-vue_export-helper-c27b6911.js";const X=c=>(Z("data-v-af98e81a"),c=c(),q(),c),Y={class:"d-flex align-end"},j=X(()=>e("thead",null,[e("tr",null,[e("th",{class:"text-left"},"Customer Email"),e("th",{class:"text-left"},"Items"),e("th",{class:"text-left"},"Price"),e("th",{class:"text-left"},"Created at"),e("th",{class:"text-left"},"Status"),e("th",{class:"text-left"},"Actions")])],-1)),G={key:0},H={colspan:"6",class:"text-center py-2"},J={class:"actions-container d-flex"},K=S({__name:"orders",setup(c){const d=r(!1),p=r(),V=r({title:"Products"}),u=r(!1),m=r(!1),P=T([{title:"Products",disabled:!0,href:"#"},{title:"All",disabled:!0,href:"#"}]),f=r([{buyerEmail:"Electronics",id:1,orderDate:"2024-06-07T18:39:09.298902Z",totalPrice:1,status:"pending",orderItems:[{productName:"phone"}]}]);function w(s){u.value=!0,p.value=s}function k(){m.value=!0,y.delete(`/Order/${p.value}`).then(()=>{m.value=!1,u.value=!1,f.value=f.value.filter(s=>s.id!=p.value)})}async function D(){d.value=!0,y.get("/Order?PageSize=1000").then(s=>{f.value=s.data,d.value=!1}).catch(()=>{d.value=!1})}return E(()=>{D()}),(s,_)=>{const I=N("UiParentCard");return o(),n(h,null,[e("div",Y,[t(R,{title:V.value.title,breadcrumbs:P.value},null,8,["title","breadcrumbs"])]),t(I,{title:"Orders",bg:"white"},{default:l(()=>[t(O,{height:"68vh","fixed-header":"",elevation:"",class:"bg-white"},{default:l(()=>[j,e("tbody",null,[d.value?(o(),n("tr",G,[e("td",H,[t($,{color:"primary",indeterminate:"",size:"100"})])])):C("",!0),d.value?C("",!0):(o(!0),n(h,{key:1},g(f.value,a=>(o(),n("tr",{key:a.id},[e("td",null,i(a.buyerEmail),1),e("td",null,[(o(!0),n(h,null,g(a.orderItems,x=>(o(),n("div",null,"-"+i(x.productName),1))),256))]),e("td",null,i(a.totalPrice),1),e("td",null,i(a.orderDate.split("T")[0]),1),e("td",null,i(a.status),1),e("td",null,[e("div",J,[t(v,{class:"me-2",size:"small",color:"info",icon:"",title:"view",to:`/order/${a.id}`},{default:l(()=>[t(B(A))]),_:2},1032,["to"]),t(v,{color:"error",title:"delete",onClick:x=>w(a.id)},{default:l(()=>[b("Cancel")]),_:2},1032,["onClick"])])])]))),128))])]),_:1})]),_:1}),t(M,{modelValue:u.value,"onUpdate:modelValue":_[1]||(_[1]=a=>u.value=a),"max-width":"500"},{default:l(()=>[t(U,{title:"Delete Product"},{default:l(()=>[t(z,null,{default:l(()=>[b(" Are you sure you want to Cancel this Order? ")]),_:1}),t(L,null,{default:l(()=>[t(F),t(v,{text:"Cancel",onClick:_[0]||(_[0]=a=>u.value=!1),variant:"elevated",color:"info"}),t(v,{text:"Delete",color:"error",variant:"elevated",onClick:k,loading:m.value},null,8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}});const ae=W(K,[["__scopeId","data-v-af98e81a"]]);export{ae as default};
